<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" style="background-color:#F5F5F7; font-family: -apple-system, 'PingFang SC', sans-serif;">
  
  <defs>
    <!-- 1. 定义原图形状 (Path) -->
    <!-- 球机：纯粹的半圆 -->
    <path id="shape-dome" d="M-15,0 A15,15 0 0,1 15,0 Z" />
    
    <!-- 枪机：仿原图的长条/枪形 (带一点透视) -->
    <path id="shape-bullet" d="M-18,-6 L10,-6 L18,0 L10,6 L-18,6 Z" />

    <!-- 2. iOS 风格渐变 (Apple Colors) -->
    <!-- 在线 (Green) -->
    <linearGradient id="grad-green" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#34C759"/>  <!-- Apple Green Light -->
      <stop offset="100%" stop-color="#248A3D"/> <!-- Apple Green Dark -->
    </linearGradient>
    
    <!-- 离线 (Red) -->
    <linearGradient id="grad-red" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#FF3B30"/>  <!-- Apple Red Light -->
      <stop offset="100%" stop-color="#C0261D"/> <!-- Apple Red Dark -->
    </linearGradient>

    <!-- 3. 投影滤镜 (让图标浮起来) -->
    <filter id="soft-shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.2"/>
    </filter>
  </defs>

  <text x="50" y="50" font-size="20" font-weight="bold" fill="#333">原图几何形状 + iOS 质感润色</text>

  <!-- ======================================================= -->
  <!-- 1. 图例卡片 (Legend) - iOS Widget 风格 -->
  <!-- ======================================================= -->
  <g transform="translate(450, 80)">
    <!-- 背景：白底 + 阴影 + 圆角 -->
    <rect x="0" y="0" width="260" height="140" rx="16" fill="#FFFFFF" filter="url(#soft-shadow)"/>
    
    <!-- 标题 -->
    <text x="20" y="32" font-size="12" font-weight="600" fill="#8E8E93" letter-spacing="1">设备图例</text>
    
    <!-- 表头 (右对齐) -->
    <text x="160" y="32" font-size="12" fill="#8E8E93" text-anchor="middle">在线</text>
    <text x="220" y="32" font-size="12" fill="#8E8E93" text-anchor="middle">离线</text>
    
    <!-- 分隔线 -->
    <line x1="20" y1="45" x2="240" y2="45" stroke="#E5E5EA" stroke-width="1"/>

    <!-- 第一行：球机 -->
    <g transform="translate(0, 75)">
      <text x="20" y="5" font-size="14" font-weight="500" fill="#1C1C1E">球机</text>
      <!-- 在线球机 -->
      <use href="#shape-dome" x="160" y="0" fill="url(#grad-green)" stroke="white" stroke-width="2"/>
      <!-- 离线球机 -->
      <use href="#shape-dome" x="220" y="0" fill="url(#grad-red)" stroke="white" stroke-width="2"/>
    </g>

    <!-- 第二行：枪机 -->
    <g transform="translate(0, 115)">
      <text x="20" y="5" font-size="14" font-weight="500" fill="#1C1C1E">枪机</text>
      <!-- 在线枪机 -->
      <use href="#shape-bullet" x="160" y="0" fill="url(#grad-green)" stroke="white" stroke-width="2"/>
      <!-- 离线枪机 -->
      <use href="#shape-bullet" x="220" y="0" fill="url(#grad-red)" stroke="white" stroke-width="2"/>
    </g>
  </g>

  <!-- ======================================================= -->
  <!-- 2. 地图图标预览区 (模拟放在地图上的效果) -->
  <!-- ======================================================= -->
  
  <g transform="translate(50, 150)">
    <text x="0" y="0" font-size="14" fill="#666">实际图标效果 (带白边描边，高对比度):</text>
    
    <!-- 模拟底图背景 (灰色块) -->
    <rect x="0" y="20" width="350" height="200" fill="#E1E4E8"/>
    <line x1="0" y1="120" x2="350" y2="120" stroke="white" stroke-width="2"/>
    <line x1="100" y1="20" x2="100" y2="220" stroke="white" stroke-width="2"/>

    <!-- 演示：球机 (在线) -->
    <g transform="translate(80, 80)" filter="url(#soft-shadow)">
       <!-- 核心代码：Shape + Gradient + White Stroke -->
       <use href="#shape-dome" fill="url(#grad-green)" stroke="#FFFFFF" stroke-width="2"/>
       <!-- 模拟朝向的小箭头(可选) -->
       <path d="M-2,-4 L2,-4 L0,-7 Z" fill="white" opacity="0.8"/>
    </g>
    <text x="80" y="110" font-size="12" fill="#333" text-anchor="middle">在线球机</text>

    <!-- 演示：枪机 (在线) -->
    <g transform="translate(200, 150) rotate(-15)" filter="url(#soft-shadow)">
       <use href="#shape-bullet" fill="url(#grad-green)" stroke="#FFFFFF" stroke-width="2"/>
    </g>
    <text x="220" y="180" font-size="12" fill="#333" text-anchor="middle">在线枪机</text>

    <!-- 演示：枪机 (离线) -->
    <g transform="translate(250, 60) rotate(30)" filter="url(#soft-shadow)">
       <use href="#shape-bullet" fill="url(#grad-red)" stroke="#FFFFFF" stroke-width="2"/>
       <!-- 离线叉号 -->
       <path d="M-3,-3 L3,3 M3,-3 L-3,3" stroke="white" stroke-width="2"/>
    </g>
    <text x="290" y="70" font-size="12" fill="#333" text-anchor="middle">离线枪机</text>
  </g>

</svg>